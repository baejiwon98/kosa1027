<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.1.min.js"></script>
<script type="text/javascript">
$(function(){
	$("#memEmail").keyup(function(){
		$.ajax({
			type : "post",
			url : "memEmailCheckModify",
			dataType : "text",
			data : {"memEmail": $("#memEmail").val(), "memId":"[[${memberCommand.memId}]]"},
			success: function(result) {
				$("#memEmailCheckModify").html(result);
				if(result == "사용 가능한 email 입니다."){
					$("#memEmailCheckModify").css("color", "blue");
				}else{
					$("#memEmailCheckModify").css("color", "red");
				}
			},
			error : function() {
				alert('에러');
				return;
			}
		});
	});
});
</script>
<body>
<form action="memberUpdate" method="post" th:object="${memberCommand}">

<input type="hidden" name = "memPw" value="123456" />
<input type="hidden" name = "memPwCon" value="123456" />

이얏호!수정페이지 <br />
회원번호 : <input type="text" name="memNum"  th:value="${memberCommand.memNum}" readonly = "readonly" />
<span th:if="${#fields.hasErrors('memNum')}" th:errors="*{memNum}"></span><br />
회원아이디 : <input type="text" id = "memId" name="memId" th:value="${memberCommand.memId}"/>
<span th:if="${#fields.hasErrors('memId')}" th:errors="*{memId}"></span><br />
회원이름 : <input type="text" name="memName" th:value="${memberCommand.memName}" />
<span th:if="${#fields.hasErrors('memName')}" th:errors="*{memName}"></span><br />
회원주소 : <input type="text" name="memAddr" th:value="${memberCommand.memAddr}" />
<span th:if="${#fields.hasErrors('memAddr')}" th:errors="*{memAddr}"></span><br />
등록일 :<input type = "date" name = "memRegiDate" th:value="${#dates.format(memberCommand.memRegiDate,'yyyy-MM-dd')}"/>
<span th:if="${#fields.hasErrors('memRegiDate')}" th:errors="*{memRegiDate}" ></span><br />
성별 : <input type="radio" name ="memGender" value = "F" th:checked="${memberCommand.memGender =='F'}" />여자
		<input type="radio" name ="memGender" value = "M" th:checked="${memberCommand.memGender =='M'}" />남자
<span th:if="${#fields.hasErrors('memGender')}" th:errors="*{memGender}" ></span><br />
연락처 : <input type="text" name="memPhone" th:value="${memberCommand.memPhone}"/>
<span th:if="${#fields.hasErrors('memPhone')}" th:errors="*{memPhone}"></span><br />
생년월일 : <input type = "date" name = "memBirth" th:value="${#dates.format(memberCommand.memBirth,'yyyy-MM-dd')}" />
<span th:if="${#fields.hasErrors('memBirth')}" th:errors="*{memBirth}" ></span><br />
회원이메일 : <input type="email" id = "memEmail"name="memEmail" th:value="${memberCommand.memEmail}" />
<span id="memEmailCheckModify"></span>
<span th:if="${#fields.hasErrors('memEmail')}" th:errors="*{memEmail}"></span><br />
<input type="submit" value="수정완료"/>
</form> 
</body>
</html>