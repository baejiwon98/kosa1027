<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.1.min.js"></script>
<script type="text/javascript">
$(function(){
	$("#memEmail").keyup(function(){
		$.ajax({
			type : "post",
			url : "emailCheck",
			dataType : "text",
			data : {"memEmail": $("#memEmail").val()},
			success: function(result) {
				$("#emailCheck").html(result);
				if(result == "사용 가능한 email 입니다."){
					$("#emailCheck").css("color", "blue");
				}else{
					$("#emailCheck").css("color", "red");
				}
			},
			error : function() {
				alert('에러');
				return;
			}
		});
	});
	
	$("#memId").keyup(function(){
		$.ajax({
			type : "post",
			url : "idCheck",
			dataType : "text",
			data : {"memId": $("#memId").val()},
			success: function(result) {
				$("#idCheck").html(result);
				if(result == "사용 가능한 id입니다."){
					$("#idCheck").css("color", "blue");
				}else{
					$("#idCheck").css("color", "red");
				}
			},
			error : function() {
				alert('에러');
				return;
			}
		});
	});
});
</script>
<body>
회원등록페이지 오호잇!<br />
<Form action="memberRegist" method="post" th:object="${memberCommand}">
회원번호 : <input type="text" name ="memNum" th:value="${memberCommand.memNum }" readonly="readonly" /> (자동 부여)
<span th:if="${#fields.hasErrors('memNum')}" th:errors="*{memNum}"></span><br />
회원아이디 : <input type="text" name="memId" id="memId" th:value="${memberCommand.memId }">
<span id = "idCheck"></span>
<span th:if="${#fields.hasErrors('memId')}" th:errors="*{memId}"></span><br />
비밀번호 : <input type="password" name="memPw" th:value="${memberCommand.memPw }">
<span th:if="${#fields.hasErrors('memPw')}" th:errors="*{memPw}"></span><br />
비밀번호 확인 : <input type="password" name="memPwCon" th:value="${memberCommand.memPwCon }"/>
<span th:if="${#fields.hasErrors('memPwCon')}" th:errors="*{memPwCon}"></span><br />
회원이름 : <input type="text" name="memName" th:value="${memberCommand.memName }" />
<span th:if="${#fields.hasErrors('memName')}" th:errors="*{memName}"></span><br />
회원주소 : <input type="text" name="memAddr" th:value="${memberCommand.memAddr }">
<span th:if="${#fields.hasErrors('memAddr')}" th:errors="*{memAddr}"></span><br />
등록일 : <input type="date" name="memRegiDate" th:value="${#dates.format(memberCommand.memRegiDate,'yyyy-MM-dd') }" />
<span th:if="${#fields.hasErrors('memRegiDate')}" th:errors="*{memRegiDate}" ></span><br />
성별 : <input type="radio" name="memGender" value = "F" th:checked ="${memberCommand.memGender=='F'}"/>여자
<input type="radio" name="memGender" value = "M" th:checked ="${memberCommand.memGender=='M'}"/>남자
<span th:if="${#fields.hasErrors('memGender')}" th:errors="*{memGender}" ></span><br />
연락처 : <input type="text" name="memPhone" th:value="${memberCommand.memPhone }">
<span th:if="${#fields.hasErrors('memPhone')}" th:errors="*{memPhone}"></span><br />
생년월일 : <input type="date" name="memBirth" th:value="${#dates.format(memberCommand.memBirth,'yyyy-MM-dd') }">
<span th:if="${#fields.hasErrors('memBirth')}" th:errors="*{memBirth}" ></span><br />
회원이메일 : <input type="email" name="memEmail" id = "memEmail" th:value="${memberCommand.memEmail }">
<span id = "emailCheck"></span>
<span th:if="${#fields.hasErrors('memEmail')}" th:errors="*{memEmail}"></span><br />
<input type="submit" value="회원 등록" />
</Form>
</body>
</html>